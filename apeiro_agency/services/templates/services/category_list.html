{% extends "base.html" %}

{% load static %}



{% block content %}
    <div class="container container-w-95 mb-5">
        <div class="page-header bg-warning">
            <div class="page-header--content d-flex justify-content-between align-items-center">
                <div class="page-header--title">
                    <h4 class="text-light">Categories</h4>
                </div>
                <div class="page-header--breadcrumb">
                    <ul class="breadcrumb p-0 m-0 bg-transparent">
                        <li class="breadcrumb-item">
                            <a class="text-light small" href="">Home</a>
                        </li>
                        <li class="breadcrumb-item small">
                            <a class="text-light" href="">Categories</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row" id="categories-section">
            <div class="col-12">
                <!-- listview/gridview/filters -->
                <div class="listing-actions mr-4">
                    <div class="listing-actions--wrapper d-flex justify-content-between align-items-center">
                        <div class="listing-actions--left">
                            <a href="" class="text-dark mr-2 listing-action listing-action-active">
                                <i class="fas fa-th-list"></i>
                            </a>
                            <a href="" class="text-dark listing-action mr-2">
                                <i class="fas fa-th"></i>
                            </a>
                            <span class="text-muted small" id="listing-actions-result-summary">
                                Showing 1â€“9 of 16 results
                            </span>
                        </div>
                        <div class="listing-actions--right">
                            <form action="">
                                <select name="" id="">
                                    <option value="" selected>select an option</option>
                                    <option value="">Order by A - Z</option>
                                    <option value="">Order by Newest Arrival</option>
                                    <option value="">Order by Most Browsed</option>
                                </select>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- category listing and pagination -->
                <div class="row mt-4 categories-row pr-4">
                    
                    {% for category in categories %}
                        <div class="col-sm-12 col-md-4 mb-4">
                            <div class="category-card">
                                <div class="category-card-img">
                                    <img src="{{ category.image.url }}" alt="">
                                </div>
                                <div class="category-card-metadata text-center py-2">
                                    <a class="d-block" href="{{ category.get_absolute_url }}">
                                        <p>{{ category.name }}</p>
                                        <span class="text-muted">$2500</span>
                                    </a>
                                </div>
                                <div class="category-card--actions">
                                    <a href="{{ category.get_absolute_url }}" 
                                        class="btn btn-warning">Details
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}

                    <!-- paginator -->
                    <div class="col-12 mt-5 py-4 top-border-5 border-light 
                        d-flex justify-content-center">
                        <nav aria-label="Page navigation">
                            <ul class="pagination custom-pagination">
                                <li class="page-item">
                                    <a class="page-link" href="#">
                                        <i class="fas fa-long-arrow-alt-left"></i>
                                    </a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">
                                        <i class="fas fa-long-arrow-alt-right"></i>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="mt-5">
        {% include 'partials/_footer.html' %}
    </div>
{% endblock content %}



{% block javascript %}
    <script>
        const listingActionBtns = document.querySelectorAll('.listing-action');
        let activeListingBtn = document.querySelector('.listing-action-active')

        // table, grid view, range
        listingActionBtns.forEach(function(actionItem){
            actionItem.addEventListener('click', function(e){
                activeListingBtn.classList.remove('listing-action-active');
                e.preventDefault();
                actionItem.classList.toggle('listing-action-active');
                activeListingBtn = actionItem;
            });
        });

        addToCartBtns.forEach(function(category){
            category.addEventListener('click', addToCart)
        });
    </script>
{% endblock javascript %}
    